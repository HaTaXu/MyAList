import{a as _,b as U,aS as C,b5 as h,k as S,cC as w,e,ad as u,B as o,a6 as $,cD as y,cE as v,cF as p,E as d,cG as m,cH as D,cI as n,b6 as b,n as F,a3 as x,aD as z}from"./index.0f128fa7.js";import{o as B}from"./index.a01b3991.js";import{U as G,a as H}from"./user_group.fea77ba8.js";import{D as P}from"./DeletePopover.41755347.js";import{W as E}from"./Wether.2e5e157c.js";const I=t=>{const s=_(),c=a=>`$${a?"success":"danger"}9`;return e(u,{spacing:"$0_5",get children(){return e(d,{each:G,children:(a,i)=>e(z,{get label(){return s(`users.permissions.${a}`)},get children(){return e($,{boxSize:"$2",rounded:"$full",get bg(){return c(H.can(t.user_group.permission,i()))}})}})})}})},V=()=>{const t=_();B("manage.sidemenu.user_groups");const{to:s}=U(),[c,a]=C(()=>h.get("/admin/user_group/list")),[i,f]=S([]),l=async()=>{const r=await a();b(r,g=>f(g.content))};l();const[T,k]=w(r=>h.post(`/admin/user_group/delete?id=${r}`));return e(x,{spacing:"$2",alignItems:"start",w:"$full",get children(){return[e(u,{spacing:"$2",get children(){return[e(o,{colorScheme:"accent",get loading(){return c()},onClick:l,get children(){return t("global.refresh")}}),e(o,{onClick:()=>{s("/@manage/userGroups/add")},get children(){return t("global.add")}})]}}),e($,{w:"$full",overflowX:"auto",get children(){return e(y,{highlightOnHover:!0,dense:!0,get children(){return[e(v,{get children(){return e(p,{get children(){return[e(d,{each:["user_group_name","size","base_path","permission","available"],children:r=>e(m,{get children(){return t(`users.${r}`)}})}),e(m,{get children(){return t("global.operations")}})]}})}}),e(D,{get children(){return e(d,{get each(){return i()},children:r=>e(p,{get children(){return[e(n,{get children(){return r.user_group_name}}),e(n,{get children(){return r.size}}),e(n,{get children(){return r.base_path}}),e(n,{get children(){return e(I,{user_group:r})}}),e(n,{get children(){return e(E,{get yes(){return!r.disabled}})}}),e(n,{get children(){return e(u,{spacing:"$2",get children(){return[e(o,{colorScheme:"accent",onClick:()=>{s(`/@manage/userGroups/edit/${r.id}`)},get children(){return t("global.edit")}}),e(o,{onClick:()=>{s(`/@manage/userGroups/manage/${r.user_group_name}`)},get children(){return t("global.manage")}}),e(P,{get name(){return r.user_group_name},get loading(){return T()===r.id},onClick:async()=>{const g=await k(r.id);b(g,()=>{F.success(t("global.delete_success")),l()})}})]}})}})]}})})}})]}})}})]}})};export{V as default};
